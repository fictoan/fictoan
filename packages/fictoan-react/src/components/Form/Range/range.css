/* LABEL and VALUE + SUFFIX ///////////////////////////////////////////////// */
[data-range-meta] {
    grid-area       : label;
    display         : flex;
    align-items     : baseline;
    justify-content : space-between;
    width           : 100%;

    .range-label {
        display : inline-flex;
        margin  : 0;
        color   : var(--range-label);
    }

    .range-value {
        display    : inline-flex;
        text-align : right;
        margin     : 0;
        color      : var(--range-value);
    }
}

[data-form-item] > [data-label-wrapper]:has([data-range-meta]) {
    width : 100%;
}

/* SHARED STYLES (Both Single and Dual) ///////////////////////////////////// */
/* Container ================================================================ */
[data-range-single],
[data-range-dual] {
    position       : relative;
    width          : 100%;
    height         : var(--thumb-height, 20px);
    --thumb-width  : 20px;
    --thumb-height : 20px;
    --track-height : 2px;
}

/* Track background ========================================================= */
[data-range-single] .range-track,
[data-range-dual] .range-track {
    position       : absolute;
    top            : 50%;
    left           : 0;
    right          : 0;
    height         : var(--track-height);
    background     : var(--range-track-bg);
    border-radius  : calc(var(--track-height) / 2);
    transform      : translateY(-50%);
    pointer-events : none;
}

/* Track fill (progress/selection) ========================================== */
[data-range-single] .range-track-fill,
[data-range-dual] .range-track-fill {
    position       : absolute;
    top            : 50%;
    height         : var(--track-height);
    background     : var(--range-thumb-bg);
    border-radius  : calc(var(--track-height) / 2);
    transform      : translateY(-50%);
    pointer-events : none;
}

/* Thumb (draggable button) ================================================= */
[data-range-single] .range-thumb,
[data-range-dual] .range-thumb {
    position           : absolute;
    top                : 50%;
    margin-top         : calc(var(--thumb-height) / -2);
    margin-left        : calc(var(--thumb-width) / -2);
    z-index            : 2;
    width              : var(--thumb-width);
    height             : var(--thumb-height);
    background         : var(--range-thumb-bg);
    border             : 4px solid var(--range-thumb-border);
    border-radius      : var(--global-border-radius);
    transition         : all ease 100ms;
    cursor             : grab;
    padding            : 0;
    outline            : none;
    -webkit-appearance : none;
    appearance         : none;

    /* States =============================================================== */
    &::-moz-focus-inner {
        border : 0;
    }

    &:hover {
        cursor : grab;
    }

    &:active,
    &[data-active="true"] {
        cursor  : grabbing;
        z-index : 3;
    }

    &:disabled {
        filter  : grayscale(1);
        opacity : 0.3;
        cursor  : not-allowed;
    }
}

/* Disabled state for fill ================================================== */
[data-range-dual].disabled .range-track-fill {
    filter  : grayscale(1);
    opacity : 0.3;
}

/* REDUCED MOTION /////////////////////////////////////////////////////////// */
@media (prefers-reduced-motion : reduce) {
    [data-range-single] .range-thumb,
    [data-range-dual] .range-thumb {
        transition : none;
    }
}

/* SIZES ==================================================================== */
/* TINY --------------------------------------------------------------------- */
[data-form-item].size-tiny {
    [data-range-single],
    [data-range-dual] {
        --thumb-width  : 12px;
        --thumb-height : 12px;
        --track-height : 2px;
    }

    .range-thumb {
        border-width : 2px;
    }

    .range-value {
        font-size : calc(var(--paragraph-font-size) * 0.72);
    }
}

/* SMALL -------------------------------------------------------------------- */
[data-form-item].size-small {
    [data-range-single],
    [data-range-dual] {
        --thumb-width  : 16px;
        --thumb-height : 16px;
        --track-height : 2px;
    }

    .range-thumb {
        border-width : 3px;
    }

    .range-value {
        font-size : calc(var(--paragraph-font-size) * 0.88);
    }
}

/* LARGE -------------------------------------------------------------------- */
[data-form-item].size-large {
    [data-range-single],
    [data-range-dual] {
        --thumb-width  : 28px;
        --thumb-height : 28px;
        --track-height : 4px;
    }

    .range-thumb {
        border-width : 5px;
    }

    .range-value {
        font-size : calc(var(--paragraph-font-size) * 1.2);
    }
}
